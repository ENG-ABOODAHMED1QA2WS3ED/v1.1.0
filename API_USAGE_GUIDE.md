# دليل استخدام واجهة PocketOption API

## المتطلبات

1. نظام تشغيل Windows
2. Python 3.9 إلى 3.12
3. مكتبة BinaryOptionsToolsV2 (يتم تثبيتها تلقائيًا مع متطلبات المشروع)

## الإعداد

1. قم بتثبيت المتطلبات باستخدام الأمر التالي:

```bash
pip install -r requirements.txt
```

## الحصول على SSID من PocketOption

لاستخدام واجهة API، تحتاج إلى الحصول على SSID (معرف الجلسة) من حسابك في PocketOption. اتبع الخطوات التالية:

1. قم بتسجيل الدخول إلى حسابك في [PocketOption](https://pocketoption.com/)
2. افتح أدوات مطوري المتصفح (F12 أو انقر بزر الماوس الأيمن واختر "فحص")
3. انتقل إلى علامة التبويب "Application" (التطبيق) أو "Storage" (التخزين)
4. ابحث عن "Cookies" في الجانب الأيسر
5. ابحث عن ملف تعريف الارتباط باسم "PHPSESSID" أو "ssid"
6. انسخ قيمة ملف تعريف الارتباط هذا - هذه هي SSID الخاصة بك

**ملاحظة مهمة**: SSID صالحة لفترة محدودة فقط (عادةً بضع ساعات). إذا انتهت صلاحيتها، ستحتاج إلى الحصول على SSID جديدة.

## اختبار الاتصال

يمكنك اختبار الاتصال باستخدام ملف الاختبار المرفق:

```bash
python test_api.py <ssid>
```

استبدل `<ssid>` بمعرف الجلسة الخاص بك.

## استخدام واجهة API في التطبيق الخاص بك

### إنشاء اتصال

```python
from pocketoption_api import PocketOptionAPI

# إنشاء اتصال باستخدام SSID
api = PocketOptionAPI(ssid="your_ssid_here")
```

### الحصول على معلومات الحساب

```python
# الحصول على الرصيد
balance = api.get_balance()
print(f"الرصيد: {balance}")

# الحصول على معرف الحساب
account_id = api.get_account_id()
print(f"معرف الحساب: {account_id}")
```

### الحصول على الأصول المتاحة

```python
# الحصول على جميع الأصول مصنفة حسب النوع
assets = api.get_assets()

# طباعة الأصول المتاحة
for category, asset_list in assets.items():
    print(f"{category}: {len(asset_list)} أصل")
    for asset in asset_list[:5]:  # طباعة أول 5 أصول فقط
        print(f"  - {asset}")
```

### الحصول على بيانات الشموع

```python
# الحصول على بيانات الشموع لزوج معين
pair = "EURUSD"  # زوج العملات
timeframe = 60    # الإطار الزمني بالثواني (60 = دقيقة واحدة)
count = 100       # عدد الشموع

candles = api.get_candles(pair, timeframe, count)

# طباعة آخر شمعة
if candles:
    print(f"آخر شمعة: {candles[-1]}")
```

## حل المشكلات الشائعة

1. **خطأ الاتصال**: تأكد من أن SSID صالحة وأنك متصل بالإنترنت.
2. **SSID منتهية الصلاحية**: قم بتسجيل الدخول مرة أخرى والحصول على SSID جديدة.
3. **خطأ في استيراد المكتبة**: تأكد من تثبيت جميع المتطلبات باستخدام `pip install -r requirements.txt`.

## ملاحظات إضافية

- تأكد من استخدام الإصدار الصحيح من Python (3.9 إلى 3.12).
- إذا كنت تستخدم بيئة افتراضية، تأكد من تنشيطها قبل تثبيت المتطلبات وتشغيل التطبيق.
- لا تشارك SSID الخاصة بك مع أي شخص آخر، فهي تمنح وصولاً كاملاً إلى حسابك.